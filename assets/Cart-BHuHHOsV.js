import{_ as g,N as b,r as _,e as w,z as I,c as i,a as t,b as k,A as r,g as q,m as x,F as N,j as S,G as T,T as E,t as o,o as c,k as L,p as V}from"./index-DyY8Ujzr.js";const B={class:"cart-bg"},M={class:"cart-container"},$={key:0,class:"cart-empty"},z={key:1,class:"cart-list"},R={class:"cart-item-image"},j=["src","alt"],G={class:"cart-item-content"},P={class:"cart-item-info"},Q={class:"cart-event-title"},A={class:"cart-ticket-type"},F={class:"cart-address"},O={class:"cart-qty-label"},W={class:"cart-item-actions"},Y={class:"cart-qty-group"},D=["onClick","disabled"],J={class:"cart-qty"},U=["onClick"],H=["onClick"],K={class:"cart-price"},X={key:0,class:"cart-notification"},Z={key:0,class:"cart-footer-summary"},tt={class:"cart-footer-row"},et=Object.assign({name:"CartPage"},{__name:"Cart",setup(st){const a=b(),d=q(),l=_(null),h=_(window.innerWidth<=700);function u(){h.value=window.innerWidth<=700}w(()=>window.addEventListener("resize",u)),I(()=>window.removeEventListener("resize",u));function v(n){l.value=n,setTimeout(()=>l.value=null,1800)}function m(n){a.removeItem(n.eventId,n.ticketId),a.items.length===0&&v("Last item removed from cart")}function f(n,e){e<1||a.updateQuantity(n.eventId,n.ticketId,e)}function y(){a.clearCart(),v("Cart cleared")}function C(){a.isEmpty||(sessionStorage.setItem("checkoutCart",JSON.stringify(a.items)),d.push("/checkout"))}return(n,e)=>(c(),i("div",B,[t("button",{class:"back-button",onClick:e[0]||(e[0]=s=>r(d).back())},"â† Back"),t("div",M,[e[6]||(e[6]=t("h1",{class:"cart-title"},"Your Cart",-1)),r(a).isEmpty?(c(),i("div",$,[e[2]||(e[2]=t("div",{class:"empty-cart-icon"},"ðŸ›’",-1)),e[3]||(e[3]=t("p",null,"Your cart is empty.",-1)),t("button",{class:"continue-shopping",onClick:e[1]||(e[1]=s=>r(d).push("/"))},"Continue Shopping")])):(c(),i("div",z,[(c(!0),i(N,null,S(r(a).items,s=>(c(),i("div",{key:s.eventId+"-"+s.ticketId,class:"cart-item"},[t("div",R,[t("img",{src:s.eventImage||"/placeholder.png",alt:s.eventTitle||"Event image"},null,8,j)]),t("div",G,[t("div",P,[t("div",Q,o(s.eventTitle),1),t("div",A,o(s.ticketType),1),t("div",F,[e[4]||(e[4]=t("i",{class:"fas fa-map-marker-alt"},null,-1)),L(" "+o(s.eventAddress),1)]),t("div",O,"Quantity: "+o(s.quantity),1)]),t("div",W,[t("div",Y,[t("button",{onClick:p=>f(s,s.quantity-1),disabled:s.quantity<=1,class:"qty-btn"}," - ",8,D),t("span",J,o(s.quantity),1),t("button",{onClick:p=>f(s,s.quantity+1),class:"qty-btn"},"+",8,U),t("button",{class:"cart-remove cart-remove-inline",onClick:p=>m(s),title:"Remove item","aria-label":"Remove from cart"},e[5]||(e[5]=[V('<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round" class="remove-svg" data-v-37cf1f26><rect x="3" y="6" width="18" height="15" rx="2" data-v-37cf1f26></rect><path d="M9 10v6M15 10v6" data-v-37cf1f26></path><path d="M5 6V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v2" data-v-37cf1f26></path><line x1="1" y1="6" x2="23" y2="6" data-v-37cf1f26></line></svg>',1)]),8,H)]),t("div",K,o("â‚¦"+(s.pricePerTicket*s.quantity).toLocaleString("en-NG")),1)])])]))),128))])),x(E,{name:"fade"},{default:T(()=>[l.value?(c(),i("div",X,o(l.value),1)):k("",!0)]),_:1})]),r(a).isEmpty?k("",!0):(c(),i("div",Z,[t("div",tt,[e[7]||(e[7]=t("span",null,"Subtotal",-1)),t("span",null,o("â‚¦"+r(a).total.toLocaleString("en-NG")),1)]),t("div",{class:"cart-footer-actions"},[t("button",{class:"cart-clear-btn",onClick:y},"Clear Cart"),t("button",{class:"cart-checkout-btn",onClick:C},"Proceed to Checkout")])]))]))}}),nt=g(et,[["__scopeId","data-v-37cf1f26"]]);export{nt as default};
