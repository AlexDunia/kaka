import{_ as g,r as d,d as l,e as o,h as w,t as y,f as m,v as p,m as k,n as L,b as x,k as r,l as V}from"./index-Coq0l3Fl.js";import{u as P}from"./auth-BUdO578h.js";const F={class:"login-form"},N={key:0,class:"login-form__error"},S={class:"login-form__field"},T={class:"login-form__field"},$=["disabled"],B={key:0},C={key:1},D={__name:"LoginForm",setup(f){const s=d(""),t=d(""),n=d(!1),a=d(""),_=P(),i=x(),v=async()=>{if(a.value="",!s.value||!t.value){a.value="Please enter both email and password";return}n.value=!0;try{await _.login(s.value,t.value),_.isAdmin?i.push("/admin"):i.push("/dashboard")}catch(c){a.value=c.message||"Login failed. Please check your credentials."}finally{n.value=!1}},b=()=>{i.push("/forgot-password")},h=()=>{i.push("/register")};return(c,e)=>(r(),l("div",F,[e[5]||(e[5]=o("h2",{class:"login-form__title"},"Login to your account.",-1)),a.value?(r(),l("div",N,y(a.value),1)):w("",!0),o("form",{onSubmit:L(v,["prevent"]),class:"login-form__form"},[o("div",S,[e[2]||(e[2]=o("label",{for:"email",class:"login-form__label"},"Email:",-1)),m(o("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=u=>s.value=u),type:"email",class:"login-form__input",placeholder:"Your email",required:"",autocomplete:"email"},null,512),[[p,s.value]])]),o("div",T,[e[3]||(e[3]=o("label",{for:"password",class:"login-form__label"},"Password:",-1)),m(o("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=u=>t.value=u),type:"password",class:"login-form__input",placeholder:"Your password",required:"",autocomplete:"current-password"},null,512),[[p,t.value]])]),o("div",{class:"login-form__forgot"},[o("button",{type:"button",class:"login-form__forgot-link",onClick:b}," Forgot Password ")]),o("button",{type:"submit",class:"login-form__submit",disabled:n.value},[n.value?(r(),l("span",B,"Loading...")):(r(),l("span",C,"Log In"))],8,$),o("div",{class:"login-form__register"},[e[4]||(e[4]=k(" Don't have an account? ")),o("button",{type:"button",class:"login-form__register-link",onClick:h}," Register ")])],32)]))}},I=g(D,[["__scopeId","data-v-edfa2c3a"]]),R={class:"login-page"},q={class:"container"},A={class:"login-page__content"},E={__name:"Login",setup(f){return(s,t)=>(r(),l("div",R,[o("div",q,[o("div",A,[V(I)])])]))}},Y=g(E,[["__scopeId","data-v-75fde2fa"]]);export{Y as default};
