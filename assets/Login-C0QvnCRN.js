import{_ as g,r as d,c as l,a as o,b as w,t as y,h as m,v as p,k,x as L,g as x,o as r,m as V}from"./index-DyY8Ujzr.js";import{u as P}from"./auth-Bl_OKKrm.js";const F={class:"login-form"},N={key:0,class:"login-form__error"},S={class:"login-form__field"},T={class:"login-form__field"},$=["disabled"],B={key:0},C={key:1},D={__name:"LoginForm",setup(f){const e=d(""),t=d(""),i=d(!1),a=d(""),_=P(),n=x(),v=async()=>{if(a.value="",!e.value||!t.value){a.value="Please enter both email and password";return}i.value=!0;try{await _.login(e.value,t.value),_.isAdmin?n.push("/admin"):n.push("/dashboard")}catch(c){a.value=c.message||"Login failed. Please check your credentials."}finally{i.value=!1}},b=()=>{n.push("/forgot-password")},h=()=>{n.push("/register")};return(c,s)=>(r(),l("div",F,[s[5]||(s[5]=o("h2",{class:"login-form__title"},"Login to your account.",-1)),a.value?(r(),l("div",N,y(a.value),1)):w("",!0),o("form",{onSubmit:L(v,["prevent"]),class:"login-form__form"},[o("div",S,[s[2]||(s[2]=o("label",{for:"email",class:"login-form__label"},"Email:",-1)),m(o("input",{id:"email","onUpdate:modelValue":s[0]||(s[0]=u=>e.value=u),type:"email",class:"login-form__input",placeholder:"Your email",required:"",autocomplete:"email"},null,512),[[p,e.value]])]),o("div",T,[s[3]||(s[3]=o("label",{for:"password",class:"login-form__label"},"Password:",-1)),m(o("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=u=>t.value=u),type:"password",class:"login-form__input",placeholder:"Your password",required:"",autocomplete:"current-password"},null,512),[[p,t.value]])]),o("div",{class:"login-form__forgot"},[o("button",{type:"button",class:"login-form__forgot-link",onClick:b}," Forgot Password ")]),o("button",{type:"submit",class:"login-form__submit",disabled:i.value},[i.value?(r(),l("span",B,"Loading...")):(r(),l("span",C,"Log In"))],8,$),o("div",{class:"login-form__register"},[s[4]||(s[4]=k(" Don't have an account? ")),o("button",{type:"button",class:"login-form__register-link",onClick:h}," Register ")])],32)]))}},I=g(D,[["__scopeId","data-v-edfa2c3a"]]),R={class:"login-page"},q={class:"container"},A={class:"login-page__content"},E={__name:"Login",setup(f){return(e,t)=>(r(),l("div",R,[o("div",q,[o("div",A,[V(I)])])]))}},Y=g(E,[["__scopeId","data-v-75fde2fa"]]);export{Y as default};
