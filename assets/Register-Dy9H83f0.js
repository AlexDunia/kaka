import{_ as w,r as o,c as l,a as s,b as f,t as R,x,h as c,v as p,k as P,g as V,o as i,m as C}from"./index-DyY8Ujzr.js";import{u as N}from"./auth-Bl_OKKrm.js";const q={class:"register-form"},S={key:0,class:"register-form__error"},T={key:1,class:"register-form__success"},U={class:"register-form__field"},$={class:"register-form__field"},B={class:"register-form__field"},A={class:"register-form__field"},D=["disabled"],E={key:0},F={key:1},I={__name:"RegisterForm",setup(b){const n=o(""),u=o(""),r=o(""),d=o(""),m=o(!1),t=o(""),_=o(!1),y=N(),v=V(),h=async()=>{if(t.value="",_.value=!1,!n.value||!u.value||!r.value||!d.value){t.value="Please fill in all fields";return}if(r.value!==d.value){t.value="Passwords do not match";return}if(r.value.length<6){t.value="Password must be at least 6 characters long";return}m.value=!0;try{await y.register({name:n.value,email:u.value,password:r.value}),_.value=!0,n.value="",u.value="",r.value="",d.value="",setTimeout(()=>{v.push("/login")},2e3)}catch(g){t.value=g.message||"Registration failed. Please try again."}finally{m.value=!1}},k=()=>{v.push("/login")};return(g,e)=>(i(),l("div",q,[e[9]||(e[9]=s("h2",{class:"register-form__title"},"Create a new account",-1)),t.value?(i(),l("div",S,R(t.value),1)):f("",!0),_.value?(i(),l("div",T," Registration successful! Redirecting to login page... ")):f("",!0),_.value?f("",!0):(i(),l("form",{key:2,onSubmit:x(h,["prevent"]),class:"register-form__form"},[s("div",U,[e[4]||(e[4]=s("label",{for:"name",class:"register-form__label"},"Name:",-1)),c(s("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=a=>n.value=a),type:"text",class:"register-form__input",placeholder:"Your full name",required:"",autocomplete:"name"},null,512),[[p,n.value]])]),s("div",$,[e[5]||(e[5]=s("label",{for:"email",class:"register-form__label"},"Email:",-1)),c(s("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=a=>u.value=a),type:"email",class:"register-form__input",placeholder:"Your email address",required:"",autocomplete:"email"},null,512),[[p,u.value]])]),s("div",B,[e[6]||(e[6]=s("label",{for:"password",class:"register-form__label"},"Password:",-1)),c(s("input",{id:"password","onUpdate:modelValue":e[2]||(e[2]=a=>r.value=a),type:"password",class:"register-form__input",placeholder:"Create a password",required:"",autocomplete:"new-password"},null,512),[[p,r.value]])]),s("div",A,[e[7]||(e[7]=s("label",{for:"confirm-password",class:"register-form__label"},"Confirm Password:",-1)),c(s("input",{id:"confirm-password","onUpdate:modelValue":e[3]||(e[3]=a=>d.value=a),type:"password",class:"register-form__input",placeholder:"Confirm your password",required:"",autocomplete:"new-password"},null,512),[[p,d.value]])]),s("button",{type:"submit",class:"register-form__submit",disabled:m.value},[m.value?(i(),l("span",E,"Processing...")):(i(),l("span",F,"Register"))],8,D),s("div",{class:"register-form__login"},[e[8]||(e[8]=P(" Already have an account? ")),s("button",{type:"button",class:"register-form__login-link",onClick:k},"Log in")])],32))]))}},L=w(I,[["__scopeId","data-v-0fc875d2"]]),M={class:"register-page"},Y={class:"container"},j={class:"register-page__content"},z={__name:"Register",setup(b){return(n,u)=>(i(),l("div",M,[s("div",Y,[s("div",j,[C(L)])])]))}},J=w(z,[["__scopeId","data-v-b70e965b"]]);export{J as default};
